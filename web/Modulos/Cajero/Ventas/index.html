<!DOCTYPE html>
<html lang="en">

<head>
    <title>Galletería/Ventas</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="Author" content="Alejandra Hernandez Sauceda" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.6/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" />
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font/css/materialdesignicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../Css/indexCajero.css" />
    <link rel="icon" type="image/png" href="Img/DeliCookieTransparent.png">
</head>

<body>
    <!-- Sidebar -->
    <div id="sidebar" class="sidebar expanded">
        <div class="logo-container">
            <img src="../../../Img/DeliCookieWhite.png" alt="Logo" class="logo">
            <h4>DeliCookie</h4>
        </div>
        <a href="../Conocenos/index.html"><i class="mdi mdi-home"></i><span>Conócenos</span></a>
        <a href="../MenuGalletas/index.html"><i class="mdi mdi-menu"></i><span>Menú</span></a>
        <a href="#"><i class="mdi mdi-cash-multiple"></i><span>Ventas</span></a>
        <a href="../InventarioGalletas/index.html"><i class="mdi mdi-cookie"></i><span>Inventario Galletas</span></a>
    </div>

    <div class="content">
        <div class="container py-5">
            <div class="container p-2">
                <h2 class="">Galletería / Ventas <i class="mdi mdi-theater"></i></h2>
                <p class="">En esta sección puedes hacer una venta de galletas.</p>
            </div>
            <div class="d-flex justify-content-end mb-3" data-bs-toggle="modal" data-bs-target="#agregarVentaModal">
                <button class="btn btn-danger d-flex align-items-center">
                    <i class="bi bi-plus-circle me-2"></i> Agregar venta
                </button>
            </div>

            <table class="table table-bordered text-center mt-3">
                <thead class="table-dark">
                    <tr>
                        <th>Descripción</th>
                        <th>Cantidad</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Galletas de Chocolate</td>
                        <td>100g</td>
                        <td>$280</td>
                    </tr>
                    <tr>
                        <td>Galletas de Nuez</td>
                        <td>3 piezas</td>
                        <td>$290</td>
                    </tr>
                    <tr>
                        <td>Galletas de Menta</td>
                        <td>150g</td>
                        <td>$300</td>
                    </tr>
                </tbody>
            </table>

            <!-- Modal para agregar una nueva venta -->
            <div class="modal fade" id="agregarVentaModal" tabindex="-1" aria-labelledby="agregarVentaModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="agregarVentaModalLabel">Agregar Venta</h5>
                            <i class="bi bi-box-arrow-up-right" style="font-size: 1.5rem; color: #3A2812;"></i>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form id="formAgregarVenta">
                                <div class="mb-3">
                                    <label for="tipoGalleta" class="form-label">Tipo de Galleta</label>
                                    <select class="form-select" id="tipoGalleta">
                                        <option selected disabled>Selecciona un tipo de galleta</option>
                                        <option value="Chocolate chip">Galleta 1</option>
                                        <option value="Oatmeal Raisin">Galleta 2</option>
                                        <option value="Peanut Butter">Galleta 3</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="ventaPorPieza" class="form-label">Venta por Pieza</label>
                                    <input type="number" class="form-control" id="ventaPorPieza"
                                        placeholder="Cantidad en piezas">
                                </div>
                                <div class="mb-3">
                                    <label for="ventaPorGramo" class="form-label">Venta por Gramo</label>
                                    <input type="number" class="form-control" id="ventaPorGramo"
                                        placeholder="Cantidad en gramos">
                                </div>

                                <div class="d-flex justify-content-between">
                                    <!-- Botón Agregar -->
                                    <button type="button" class="btn btn-primary d-flex align-items-center">
                                        <i class="bi bi-check-circle me-2"></i> Agregar
                                    </button>
                                    <!-- Botón Limpiar -->
                                    <button type="button" class="btn d-flex align-items-center" id="limpiarCampos"
                                        style="background-color: #A87008; color: white;">
                                        Limpiar <i class="bi bi-arrow-counterclockwise ms-2"></i>
                                    </button>
                                </div>
                            </form>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Modal para Pago de Venta -->
            <div class="modal fade" id="pagoVentaModal" tabindex="-1" aria-labelledby="pagoVentaModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="pagoVentaModalLabel">Pago de Venta</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form>
                                <div class="mb-3">
                                    <label for="totalVenta" class="form-label">Total de Venta</label>
                                    <input type="number" class="form-control" id="totalVenta"
                                        placeholder="Ingresa el total de la venta">
                                </div>
                                <div class="mb-3">
                                    <label for="pagaCon" class="form-label">Paga con</label>
                                    <input type="number" class="form-control" id="pagaCon"
                                        placeholder="Monto con el que paga">
                                </div>
                                <div class="mb-3">
                                    <label for="cambio" class="form-label">Cambio</label>
                                    <input type="text" class="form-control" id="cambio" placeholder="Cambio a devolver"
                                        disabled>
                                </div>
                                <div class="mb-3 form-check">
                                    <input type="checkbox" class="form-check-input" id="ticketCheckbox">
                                    <label class="form-check-label" for="ticketCheckbox">¿Deseas ticket?</label>
                                </div>
                                <!-- Añadir un id al botón para identificarlo -->
                                <button type="button" class="btn btn-primary" id="procesarPagoButton"> <i
                                        class="bi bi-credit-card-2-front"></i> Procesar Pago</button>

                            </form>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Modal para historial de ventas -->
            <div class="modal fade" id="historialVentasModal" tabindex="-1" aria-labelledby="historialVentasModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="historialVentasModalLabel">Historial de Ventas</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <h6>Ventas Recientes</h6>
                            <div class="row">
                                <div class="col-md-6">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Folio</th>
                                                <th>Hora</th>
                                                <th>Total</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>001</td>
                                                <td>10:30 AM</td>
                                                <td>$100</td>
                                            </tr>
                                            <tr>
                                                <td>002</td>
                                                <td>11:15 AM</td>
                                                <td>$150</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <div class="col-md-6">
                                    <h6>Detalles de Ventas</h6>
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Descripción</th>
                                                <th>Total</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Chocolate chip</td>
                                                <td>$40</td>
                                            </tr>
                                            <tr>
                                                <td>Oatmeal Raisin</td>
                                                <td>$60</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Botón Cobrar -->
            <div class="d-flex justify-content-between mt-4">
                <button class="btn btn-primary d-flex align-items-center" id="cobrarButton">
                    <i class="mdi mdi-credit-card me-2"></i> Cobrar
                </button>
                <button class="btn btn-secondary d-flex align-items-center" data-bs-toggle="modal"
                    data-bs-target="#historialVentasModal">
                    <i class="mdi mdi-file-document-outline me-2"></i> Historial de Venta
                </button>
            </div>
        </div>
    </div>



    <!-- Función para limpiar los campos del modal -->
    <script>
        document.getElementById('limpiarCampos').addEventListener('click', function () {
            document.getElementById('formAgregarVenta').reset();
        });
    </script>

    <!-- Incluir SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.6/dist/sweetalert2.all.min.js"></script>

    <script>
        // Seleccionar el botón Cobrar
        document.getElementById('cobrarButton').addEventListener('click', function () {
            // Abrir el modal de Pago de Venta
            var pagoVentaModal = new bootstrap.Modal(document.getElementById('pagoVentaModal'));
            pagoVentaModal.show();
        });

        // Agregar el evento al botón de procesar pago
        document.getElementById("procesarPagoButton").addEventListener("click", function () {
            // Muestra la alerta de SweetAlert2
            Swal.fire({
                title: '¡Gracias por tu compra!',
                text: 'Tu pago ha sido procesado correctamente.',
                icon: 'success',
                confirmButtonText: 'Aceptar'
            }).then((result) => {
                if (result.isConfirmed) {
                    // Cierra el modal de pago
                    var modal = bootstrap.Modal.getInstance(document.getElementById('pagoVentaModal'));
                    modal.hide();
                }
            });
        });
    </script>

    <!-- Enlace a los scripts de Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>